# BizenDAO ã‚µã‚¤ãƒˆãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«è¨ˆç”»æ›¸
## ãƒã‚¤ãƒšãƒ¼ã‚¸ & å¯„ä»˜ãƒšãƒ¼ã‚¸

**ä½œæˆæ—¥**: 2026-02-13
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: è¨­è¨ˆæ®µéš

---

## èƒŒæ™¯

bizen.sbs ã¯ãƒ¢ãƒãƒªã‚·ãƒƒã‚¯ãªæ§‹æˆã§ã€åˆ†æ•£å‹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒå›°é›£ã€‚
å¿…è¦ãªæ©Ÿèƒ½ã‚’è»½é‡ãªãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ã—ã¦ ~/tools/dao ã«å†æ§‹æˆã™ã‚‹ã€‚

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒã‚§ãƒ¼ãƒ³**: Polygon Mainnet (chainId: 137)
- **RPC**: `https://polygon-rpc.com`ï¼ˆæ—¢å­˜ã‚³ãƒ¼ãƒ‰ã§ä½¿ç”¨ä¸­ï¼‰
- **ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: Web3.js 1.10.0 + Vue 3ï¼ˆæ—¢å­˜ã¨çµ±ä¸€ï¼‰
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: HTML + CSS + vanilla JSï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãŒèª­ã¿æ›¸ãã—ã‚„ã™ãï¼‰
- **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿**: Arweaveï¼ˆtokenURIã‹ã‚‰å–å¾—ã€IPFSãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯¾å¿œæ¸ˆã¿ï¼‰

---

## ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆä¸€è¦§

| ç¨®åˆ¥ | åå‰ | ã‚¢ãƒ‰ãƒ¬ã‚¹ |
|------|------|---------|
| NFT (ERC-721) | æ£® æ•å½° | `0x4D0Abc6272E1288A177EA8E3076d4aFe2DB9C658` |
| NFT (ERC-721) | æ£® å¤§é›… | `0x3DAC002d33A0c6F1c1684783DDaA78E5f29F14cc` |
| NFT (ERC-721) | å®å±±çª¯ | `0xd84d7A7FE688a1CC40a931cab2aaF189eB3ceEcB` |
| NFT (ERC-721) | è—¤ç”° ç¥¥ | `0x6C8b4094809CE7e5Ec1a44F7553Cf51b969C2aEb` |
| SBT | ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ— | `0xFcC45d28E7e51Cff6d8181Bd73023d46daf1fEd2` |
| TBA Registry | ERC-6551 v0.2.0 | `0x63c8A3536E4A647D48fC0076D442e3243f7e773b` |
| TBA Implementation | ERC-6551 v0.2.0 | `0xa8a05744C04c7AD0D31Fcee368aC18040832F1c1` |
| Donation | treasury | `0x94280C465Be5C49B02b779Fd02d344815cb937d6` |

â€» `0x72A02d...8623` ã¯æ—§ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã€‚ä½¿ç”¨ã—ãªã„ã€‚

---

## æ—¢å­˜è³‡ç”£

### contract.html
- ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹å…¥åŠ› â†’ ERC-721 Enumerable ã§å…¨ãƒˆãƒ¼ã‚¯ãƒ³ä¸€è¦§è¡¨ç¤º
- Web3.js + Vue 3 æ§‹æˆ
- MetaMaskä¸è¦ï¼ˆRPCç›´æ¥èª­ã¿å–ã‚Šï¼‰
- ãƒãƒƒãƒå‡¦ç†ï¼ˆ50ä»¶ãšã¤ä¸¦åˆ—å–å¾—ï¼‰

### token.html
- ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ + tokenId æŒ‡å®šã§å€‹åˆ¥NFTè©³ç´°è¡¨ç¤º
- Arweave / IPFS ä¸¡å¯¾å¿œï¼ˆURIè‡ªå‹•å¤‰æ›ï¼‰
- animation_urlå¯¾å¿œï¼ˆå‹•ç”»ã€3Dãƒ¢ãƒ‡ãƒ«=GLB â†’ viewer/é€£æºï¼‰
- MIMEã‚¿ã‚¤ãƒ—è‡ªå‹•åˆ¤å®šï¼ˆæ‹¡å¼µå­ â†’ HEADãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰
- URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿é€£æº: `token.html?ca=0x...&id=26`

### viewer/
- model-viewer.js ã«ã‚ˆã‚‹3Dãƒ¢ãƒ‡ãƒ«è¡¨ç¤º

### å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ¼ãƒ‰
- `fetchTokenMetadata()` â€” tokenURIå–å¾— â†’ ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹ â†’ ç”»åƒURLå¤‰æ›
- `fetchContractInfo()` â€” name/symbol/totalSupplyå–å¾—
- `fetchTokenList()` â€” Enumerableãƒãƒƒãƒåˆ—æŒ™
- ABIå®šç¾©ï¼ˆERC-721 / ERC-721 Enumerableï¼‰
- CSSï¼ˆãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒã€ã‚«ãƒ¼ãƒ‰UIã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ï¼‰

---

## 1. ãƒã‚¤ãƒšãƒ¼ã‚¸ (`mypage.html`)

### æ¦‚è¦
MetaMaskæ¥ç¶šå¾Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰€æœ‰ã™ã‚‹å‚™å‰ç„¼NFT + SBTã®ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªãƒšãƒ¼ã‚¸ã€‚

### ç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¦Š ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶š / 0x1234...5678   â”‚
â”‚  [SBT] BizenDAO Member âœ“            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚  â”€â”€ æ£® æ•å½° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”                        â”‚
â”‚  â”‚   â”‚ â”‚   â”‚  ä½œå“å / tokenId       â”‚
â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜  â†’ è©³ç´°(token.html)    â”‚
â”‚                                      â”‚
â”‚  â”€â”€ è—¤ç”° ç¥¥ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  â”Œâ”€â”€â”€â”                               â”‚
â”‚  â”‚   â”‚  ä½œå“å / tokenId             â”‚
â”‚  â””â”€â”€â”€â”˜  â†’ è©³ç´°(token.html)          â”‚
â”‚                                      â”‚
â”‚  â”€â”€ æ‰€æœ‰ãªã— â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  ï¼ˆã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã›ã‚“ï¼‰          â”‚
â”‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åˆè¨ˆ: 3ç‚¹ / 2ä½œå®¶                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ©Ÿèƒ½ä¸€è¦§

| # | æ©Ÿèƒ½ | è©³ç´° |
|---|------|------|
| 1 | ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶š | MetaMask `eth_requestAccounts` |
| 2 | ãƒã‚§ãƒ¼ãƒ³åˆ‡æ›¿ | Polygon(137) ã§ãªã‘ã‚Œã° `wallet_switchEthereumChain` |
| 3 | SBTç¢ºèª | `balanceOf(address)` > 0 â†’ ãƒ¡ãƒ³ãƒãƒ¼ãƒãƒƒã‚¸è¡¨ç¤º |
| 4 | NFTåˆ—æŒ™ | 4ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆä¸¦åˆ—ã§ `balanceOf` â†’ `tokenOfOwnerByIndex` |
| 5 | ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾— | `tokenURI` â†’ Arweave JSON â†’ ç”»åƒãƒ»åå‰ãƒ»å±æ€§ |
| 6 | ä½œå®¶åˆ¥ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚° | ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆå˜ä½ã§ä½œå®¶åã‚’ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ã« |
| 7 | è©³ç´°ãƒªãƒ³ã‚¯ | token.html?ca=0x...&id=X ã¸ã®é·ç§» |
| 8 | æœªæ¥ç¶šçŠ¶æ…‹ | MetaMaskæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« â†’ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¡ˆå†… |
| 9 | ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– | ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œã‚°ãƒªãƒƒãƒ‰ |

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
[MetaMask] â†’ eth_requestAccounts â†’ address
                                      â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â–¼          â–¼          â–¼          â–¼          â–¼
  æ£®æ•å½°NFT  æ£®å¤§é›…NFT  å®å±±çª¯NFT  è—¤ç”°ç¥¥NFT   SBT
  balanceOf  balanceOf  balanceOf  balanceOf  balanceOf
     â”‚          â”‚          â”‚          â”‚          â”‚
     â–¼          â–¼          â–¼          â–¼          â–¼
  tokenOf    tokenOf    tokenOf    tokenOf    badge
  OwnerBy    OwnerBy    OwnerBy    OwnerBy    è¡¨ç¤º
  Index      Index      Index      Index
     â”‚          â”‚          â”‚          â”‚
     â–¼          â–¼          â–¼          â–¼
  tokenURI  tokenURI  tokenURI  tokenURI
  (Arweave) (Arweave) (Arweave) (Arweave)
     â”‚          â”‚          â”‚          â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
            ä½œå®¶åˆ¥ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°è¡¨ç¤º
```

### MetaMaskæœªæ¥ç¶šæ™‚

- ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶šãƒœã‚¿ãƒ³ã®ã¿è¡¨ç¤º
- MetaMaskæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« â†’ ã€ŒMetaMaskã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€+ ãƒªãƒ³ã‚¯
- æ¥ç¶šæ‹’å¦ â†’ ãƒªãƒˆãƒ©ã‚¤ãƒœã‚¿ãƒ³

---

## 2. å¯„ä»˜ãƒšãƒ¼ã‚¸ (`donation.html`)

### æ¦‚è¦
BizenDAO treasuryã¸MATICã‚’å¯„ä»˜ã§ãã‚‹ãƒšãƒ¼ã‚¸ã€‚

### ç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BizenDAOã‚’å¿œæ´ã™ã‚‹                  â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ DAOã®æ´»å‹•ç´¹ä»‹                  â”‚  â”‚
â”‚  â”‚ å‚™å‰ç„¼ã®æ–‡åŒ–ã‚’å®ˆã‚Šã€            â”‚  â”‚
â”‚  â”‚ ãƒ‡ã‚¸ã‚¿ãƒ«æŠ€è¡“ã§ä¸–ç•Œã«å±Šã‘ã‚‹...   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚
â”‚  ğŸ¦Š ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶š / 0x1234...5678   â”‚
â”‚                                      â”‚
â”‚  å¯„ä»˜é‡‘é¡ (MATIC):                   â”‚
â”‚  [1] [5] [10] [50] [ã‚«ã‚¹ã‚¿ãƒ : ___]   â”‚
â”‚                                      â”‚
â”‚  [ğŸ’ å¯„ä»˜ã™ã‚‹]                       â”‚
â”‚                                      â”‚
â”‚  â”€â”€â”€ å®Œäº† â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  âœ… ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼            â”‚
â”‚  tx: 0xabc...def                     â”‚
â”‚  [Polygonscanã§ç¢ºèª â†—]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ©Ÿèƒ½ä¸€è¦§

| # | æ©Ÿèƒ½ | è©³ç´° |
|---|------|------|
| 1 | ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶š | wallet.js å…±é€šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« |
| 2 | é‡‘é¡ãƒ—ãƒªã‚»ãƒƒãƒˆ | 1 / 5 / 10 / 50 MATIC ãƒœã‚¿ãƒ³ |
| 3 | ã‚«ã‚¹ã‚¿ãƒ é‡‘é¡ | ä»»æ„å…¥åŠ› |
| 4 | MATICé€é‡‘ | `eth_sendTransaction` â†’ treasury |
| 5 | txç¢ºèª | Polygonscan ãƒªãƒ³ã‚¯è¡¨ç¤º |
| 6 | ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° | æ®‹é«˜ä¸è¶³ã€æ‹’å¦ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ |
| 7 | æ´»å‹•ç´¹ä»‹ | DAOã®ãƒŸãƒƒã‚·ãƒ§ãƒ³ãƒ»ä½¿é€”èª¬æ˜ |

### é€é‡‘ãƒ•ãƒ­ãƒ¼

```
[é‡‘é¡é¸æŠ] â†’ [å¯„ä»˜ã™ã‚‹ãƒœã‚¿ãƒ³]
                  â”‚
                  â–¼
          eth_sendTransaction({
            to: 0x94280C...7d6,
            value: Web3.utils.toWei(amount, 'ether')
          })
                  â”‚
                  â–¼
          [MetaMaskç¢ºèªç”»é¢]
                  â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
          â–¼               â–¼
       æ‰¿èª             æ‹’å¦
          â”‚               â”‚
          â–¼               â–¼
     tx hashå–å¾—      ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
          â”‚
          â–¼
     Polygonscanãƒªãƒ³ã‚¯
     + ãŠç¤¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
```

---

## 3. TBAè¡¨ç¤ºæ©Ÿèƒ½ (`token.html` ã«çµ±åˆ)

### æ¦‚è¦
NFTè©³ç´°ãƒšãƒ¼ã‚¸ï¼ˆtoken.htmlï¼‰ã§ã€ãã®NFTã®TBAï¼ˆToken Bound Accountï¼‰ãŒæ‰€æœ‰ã™ã‚‹ã‚¢ã‚»ãƒƒãƒˆä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹ã€‚
å‚™å‰ç„¼ã®**ç®±æ›¸ã**ï¼ˆSBTï¼‰ã‚„ã€ä»–ã®ä½œå®¶ã®NFTãŒTBAå†…ã«æ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã€‚

### TBAã®ä»•çµ„ã¿ï¼ˆERC-6551ï¼‰

```
å‚™å‰ç„¼NFTï¼ˆä¾‹: ã‚³ãƒ­ãƒ³No.1ï¼‰
  â”‚
  â””â”€â”€ TBAï¼ˆToken Bound Accountï¼‰= NFTå°‚ç”¨ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ
       â”‚  Registry.account(implementation, salt, chainId, tokenContract, tokenId)
       â”‚  â†’ CREATE2ã§ã‚¢ãƒ‰ãƒ¬ã‚¹ç®—å‡ºï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤ä¸è¦ã§ç¢ºå®šçš„ï¼‰
       â”‚
       â”œâ”€â”€ SBT: ç®±æ›¸ãï¼ˆæ¥æ­´è¨¼æ˜ã€transferã§ããªã„ï¼‰
       â”œâ”€â”€ NFT: ä»–ã®ä½œå®¶ã®ä½œå“ï¼ˆå…¥ã‚Œã‚‹ã“ã¨ã‚‚å¯èƒ½ï¼‰
       â””â”€â”€ NFT: ...
```

### ç¾å®Ÿä¸–ç•Œã¨ã®å¯¾å¿œ

| ãƒªã‚¢ãƒ« | ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ |
|--------|------------|
| å‚™å‰ç„¼ä½œå“ | ERC-721 NFT |
| ä½œå“ã®ç®± | TBAï¼ˆERC-6551ï¼‰ |
| ç®±æ›¸ãï¼ˆè¨¼æ˜æ›¸ï¼‰ | SBTï¼ˆç®±ã®ä¸­ã«ã‚ã‚‹ã€å–ã‚Šå‡ºã›ãªã„ï¼‰ |
| ç®±ã®ä¸­ã®ä»˜å±å“ | TBAå†…ã®ä»–ã®NFT |

### token.html ç”»é¢æ§‹æˆï¼ˆTBAè¿½åŠ å¾Œï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NFTè©³ç´°: ã‚³ãƒ­ãƒ³No.1                 â”‚
â”‚  ä½œå®¶: æ£® æ•å½°                       â”‚
â”‚  [ä½œå“ç”»åƒ]                          â”‚
â”‚  description / attributes            â”‚
â”‚                                      â”‚
â”‚  â”€â”€ ğŸ“¦ Token Bound Account â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  TBA: 0xabc...def  [Polygonscan â†—]  â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€ ç®±æ›¸ãï¼ˆSBTï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“œ web3cms                     â”‚  â”‚
â”‚  â”‚ [ç®±æ›¸ãç”»åƒ]                   â”‚  â”‚
â”‚  â”‚ Decentralized Content...       â”‚  â”‚
â”‚  â”‚ â†’ external_url â†—              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€ æ‰€æœ‰NFT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸº æ£®å¤§é›… - ä½œå“å  â†’ è©³ç´°    â”‚  â”‚
â”‚  â”‚ ğŸº è—¤ç”°ç¥¥ - ä½œå“å  â†’ è©³ç´°    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚
â”‚  ï¼ˆã‚¢ã‚»ãƒƒãƒˆãªã—ã®å ´åˆ:               â”‚
â”‚  ã€€ã€Œã“ã®ä½œå“ã®TBAã«ã¯ã¾ã             â”‚
â”‚  ã€€ã‚¢ã‚»ãƒƒãƒˆãŒã‚ã‚Šã¾ã›ã‚“ã€ï¼‰            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
token.html?ca=0x...&id=1
        â”‚
        â–¼
  1. tokenURI â†’ ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºï¼ˆæ—¢å­˜ï¼‰
        â”‚
        â–¼
  2. Registry.account(
       implementation,  // 0x63c8...
       salt=0,          // bytes32(0)
       chainId=137,     // Polygon
       tokenContract,   // ca ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
       tokenId          // id ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
     ) â†’ tbaAddress
        â”‚
        â–¼
  3. 5ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆä¸¦åˆ—ã§ balanceOf(tbaAddress):
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
     â”‚ æ£®æ•å½°NFT â”‚ æ£®å¤§é›…NFT â”‚ å®å±±çª¯NFT â”‚ è—¤ç”°ç¥¥NFT â”‚  SBT â”‚
     â”‚ balanceOfâ”‚ balanceOfâ”‚ balanceOfâ”‚ balanceOfâ”‚balanceOfâ”‚
     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”¬â”€â”€â”€â”˜
          â”‚          â”‚          â”‚          â”‚        â”‚
          â–¼          â–¼          â–¼          â–¼        â–¼
     tokenOfOwner  (åŒ)       (åŒ)       (åŒ)   tokenOfOwner
     ByIndex                                    ByIndex
          â”‚                                        â”‚
          â–¼                                        â–¼
     tokenURI â†’                              tokenURI â†’
     ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿                              ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
          â”‚                                        â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â–¼
                  TBAæ‰€æœ‰ã‚¢ã‚»ãƒƒãƒˆä¸€è¦§è¡¨ç¤º
                  â”œâ”€â”€ SBT â†’ ã€Œç®±æ›¸ãã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³
                  â””â”€â”€ NFT â†’ ã€Œæ‰€æœ‰NFTã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³
```

### ERC-6551 v0.2.0 Registry ABIï¼ˆå¿…è¦éƒ¨åˆ†ï¼‰

```javascript
// account() â€” TBAã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç®—å‡ºï¼ˆviewã®ã¿ã€ã‚¬ã‚¹ä¸è¦ï¼‰
// â€» v0.2.0ã¯å¼•æ•°é †ãŒv0.3.0ã¨ç•°ãªã‚‹ã€‚saltã¯uint256ã€‚
function account(
  address implementation,  // 0xa8a057...1c1
  uint256 chainId,        // 137
  address tokenContract,  // NFTã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ
  uint256 tokenId,        // ãƒˆãƒ¼ã‚¯ãƒ³ID
  uint256 salt            // 0
) external view returns (address)
```

---

## 4. å…±é€šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆ

### js/wallet.js

```javascript
// å…¬é–‹API
const Wallet = {
  connect()           // â†’ { address, chainId }
  disconnect()        // çŠ¶æ…‹ã‚¯ãƒªã‚¢
  ensurePolygon()     // chainId 137 ã§ãªã‘ã‚Œã°åˆ‡æ›¿
  getAddress()        // â†’ string | null
  isConnected()       // â†’ boolean
  onAccountChange(cb) // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¤‰æ›´ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
  onChainChange(cb)   // ãƒã‚§ãƒ¼ãƒ³å¤‰æ›´ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
}
```

### js/config.js

```javascript
// BizenDAO è¨­å®šä¸€å…ƒç®¡ç†
// ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆè¿½åŠ ãƒ»RPCå¤‰æ›´ãƒ»ãƒã‚§ãƒ¼ãƒ³åˆ‡æ›¿ã¯ã“ã“ã ã‘è§¦ã‚Œã°OK

const CONFIG = {
  // â”€â”€ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ â”€â”€
  chain: {
    id: 137,
    name: 'Polygon Mainnet',
    rpc: 'https://polygon-rpc.com',
    explorer: 'https://polygonscan.com',
    currency: { name: 'MATIC', symbol: 'MATIC', decimals: 18 },
  },

  // â”€â”€ ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ â”€â”€
  gateways: {
    ipfs: 'https://ipfs.io/ipfs/',
    arweave: 'https://arweave.net/',
  },

  // â”€â”€ ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ â”€â”€
  contracts: {
    // ä½œå®¶NFTï¼ˆERC-721 Enumerableï¼‰
    nfts: [
      { key: 'mori-toshiaki', name: 'æ£® æ•å½°',  address: '0x4D0Abc6272E1288A177EA8E3076d4aFe2DB9C658' },
      { key: 'mori-taiga',    name: 'æ£® å¤§é›…',   address: '0x3DAC002d33A0c6F1c1684783DDaA78E5f29F14cc' },
      { key: 'hozangama',     name: 'å®å±±çª¯',    address: '0xd84d7A7FE688a1CC40a931cab2aaF189eB3ceEcB' },
      { key: 'fujita-syo',    name: 'è—¤ç”° ç¥¥',   address: '0x6C8b4094809CE7e5Ec1a44F7553Cf51b969C2aEb' },
    ],

    // SBT â€” ç®±æ›¸ããƒ»ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—ï¼ˆERC-721 Enumerable, non-transferableï¼‰
    sbt: {
      address: '0xFcC45d28E7e51Cff6d8181Bd73023d46daf1fEd2',
    },

    // TBAï¼ˆERC-6551 Token Bound Accountï¼‰
    tba: {
      registry:       '0xa8a05744C04c7AD0D31Fcee368aC18040832F1c1',
      implementation: '0x63c8A3536E4A647D48fC0076D442e3243f7e773b',
      salt: '0x0000000000000000000000000000000000000000000000000000000000000000',
    },

    // å¯„ä»˜å…ˆ
    donation: {
      address: '0x94280C465Be5C49B02b779Fd02d344815cb937d6',
      presets: [1, 5, 10, 50],
    },
  },

  // â”€â”€ TBAã‚¹ã‚­ãƒ£ãƒ³å¯¾è±¡ â”€â”€
  // TBAå†…ã‚¢ã‚»ãƒƒãƒˆå–å¾—æ™‚ã« balanceOf ã‚’å©ãå…¨ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ
  // â†’ contracts.nfts + contracts.sbt ã‹ã‚‰è‡ªå‹•ç”Ÿæˆã™ã‚‹ãƒ˜ãƒ«ãƒ‘ãƒ¼
  get tbaTargets() {
    return [
      ...this.contracts.nfts.map(n => ({ ...n, type: 'nft' })),
      { key: 'sbt', name: 'BizenDAO SBT', address: this.contracts.sbt.address, type: 'sbt' },
    ]
  },
}

// â”€â”€ ABIå®šç¾© â”€â”€
const ABI = {
  ERC721: [
    'function balanceOf(address owner) view returns (uint256)',
    'function ownerOf(uint256 tokenId) view returns (address)',
    'function tokenURI(uint256 tokenId) view returns (string)',
  ],
  ERC721Enumerable: [
    'function totalSupply() view returns (uint256)',
    'function tokenByIndex(uint256 index) view returns (uint256)',
    'function tokenOfOwnerByIndex(address owner, uint256 index) view returns (uint256)',
  ],
  ERC6551Registry: [
    'function account(address implementation, bytes32 salt, uint256 chainId, address tokenContract, uint256 tokenId) view returns (address)',
  ],
}
```

**é‹ç”¨ãƒ«ãƒ¼ãƒ«:**
- æ–°ã—ã„ä½œå®¶ãŒå‚åŠ  â†’ `contracts.nfts` ã«1è¡Œè¿½åŠ ã™ã‚‹ã ã‘
- TBAã‚¹ã‚­ãƒ£ãƒ³å¯¾è±¡ã¯ `tbaTargets` ã§è‡ªå‹•ç”Ÿæˆï¼ˆæ‰‹å‹•ç®¡ç†ä¸è¦ï¼‰
- RPCå¤‰æ›´ãƒ»ãƒã‚§ãƒ¼ãƒ³åˆ‡æ›¿ â†’ `chain` ã‚’å¤‰ãˆã‚‹ã ã‘
- å…¨ãƒšãƒ¼ã‚¸ï¼ˆmypage / token / contract / donationï¼‰ãŒã“ã®1ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§

### js/nft.js

```javascript
// æ—¢å­˜ token.html / contract.html ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–
const NFT = {
  async getOwnedTokens(contract, address)  // â†’ [tokenId, ...]
  async getTokenMetadata(contract, tokenId) // â†’ { name, image, ... }
  async getContractInfo(contract)           // â†’ { name, symbol, totalSupply }
}
```

---

## 4. ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆï¼ˆæ–°è¦ + å¤‰æ›´ï¼‰

```
dao/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ contracts.md          # ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆä¸€è¦§ï¼ˆæ—¢å­˜ï¼‰
â”‚   â””â”€â”€ mypage-donation-plan.md  # ã“ã®è¨ˆç”»æ›¸
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ app.js                # æ—¢å­˜ï¼ˆå¤‰æ›´ãªã—ï¼‰
â”‚   â”œâ”€â”€ app2.js               # æ—¢å­˜ï¼ˆå¤‰æ›´ãªã—ï¼‰
â”‚   â”œâ”€â”€ app3.js               # æ—¢å­˜ï¼ˆå¤‰æ›´ãªã—ï¼‰
â”‚   â”œâ”€â”€ products.json         # æ—¢å­˜ï¼ˆå¤‰æ›´ãªã—ï¼‰
â”‚   â”œâ”€â”€ config.js             # ã€æ–°è¦ã€‘è¨­å®šä¸€å…ƒç®¡ç†ï¼ˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãƒ»RPCãƒ»ãƒã‚§ãƒ¼ãƒ³ï¼‰
â”‚   â”œâ”€â”€ wallet.js             # ã€æ–°è¦ã€‘MetaMaskæ¥ç¶šå…±é€š
â”‚   â””â”€â”€ nft.js                # ã€æ–°è¦ã€‘NFTå–å¾—ãƒ­ã‚¸ãƒƒã‚¯å…±é€š
â”œâ”€â”€ mypage.html               # ã€æ–°è¦ã€‘ãƒã‚¤ãƒšãƒ¼ã‚¸
â”œâ”€â”€ donation.html             # ã€æ–°è¦ã€‘å¯„ä»˜ãƒšãƒ¼ã‚¸
â”œâ”€â”€ contract.html             # æ—¢å­˜ï¼ˆã‚µãƒ³ãƒ—ãƒ«CAæ›´æ–°ã®ã¿ï¼‰
â”œâ”€â”€ token.html                # æ—¢å­˜ï¼ˆå¤‰æ›´ãªã—ï¼‰
â””â”€â”€ ...
```

---

## 5. ãƒ•ã‚§ãƒ¼ã‚ºè¨ˆç”»

### Phase 1: å…±é€šåŸºç›¤ + ãƒã‚¤ãƒšãƒ¼ã‚¸
- [ ] `js/config.js` â€” è¨­å®šä¸€å…ƒç®¡ç†ï¼ˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãƒ»RPCãƒ»ãƒã‚§ãƒ¼ãƒ³ãƒ»ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ï¼‰
- [ ] `js/wallet.js` â€” MetaMaskæ¥ç¶šå…±é€šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- [ ] `js/nft.js` â€” æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‹ã‚‰NFTå–å¾—ãƒ­ã‚¸ãƒƒã‚¯æŠ½å‡º
- [ ] `mypage.html` â€” ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶š + SBTç¢ºèª + NFTä¸€è¦§ï¼ˆä½œå®¶åˆ¥ï¼‰
- [ ] `contract.html` â€” ã‚µãƒ³ãƒ—ãƒ«CAã‚’ç¾è¡Œã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«æ›´æ–°

### Phase 2: å¯„ä»˜ãƒšãƒ¼ã‚¸
- [ ] `donation.html` â€” å¯„ä»˜UI + MATICé€é‡‘
- [ ] DAOã®æ´»å‹•ç´¹ä»‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä½œæˆ

### Phase 3: TBAï¼ˆç®±æ›¸ãï¼‰& æ”¹å–„
- [ ] TBA (Token Bound Account) å¯¾å¿œ â€” token.htmlã«çµ±åˆ
- [ ] NFTãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆlocalStorageï¼‰
- [ ] å¯„ä»˜å±¥æ­´è¡¨ç¤ºï¼ˆã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆèª­ã¿å–ã‚Šï¼‰
- [ ] å¤šè¨€èªå¯¾å¿œï¼ˆæ—¢å­˜ã® lang ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿é€£æºï¼‰
- [ ] bizen.sbs ã‹ã‚‰ã®ç§»è¡Œå‘ŠçŸ¥
- [ ] æ—¢å­˜ contract.html / token.html ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ï¼ˆconfig.js + å…±é€šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ©ç”¨ã«åˆ‡æ›¿ï¼‰

---

## 6. ãƒ‡ã‚¶ã‚¤ãƒ³æ–¹é‡

- æ—¢å­˜ã‚µã‚¤ãƒˆã®ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒã‚’è¸è¥²
- æ—¢å­˜CSSï¼ˆstyle.cssï¼‰ã‚’å…±æœ‰
- ã‚«ãƒ¼ãƒ‰UIã€ã‚°ãƒ©ã‚¹ãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ã¯æ—¢å­˜ã¨çµ±ä¸€
- MetaMaskæ¥ç¶šãƒœã‚¿ãƒ³ã¯ãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã«é…ç½®ï¼ˆå…¨ãƒšãƒ¼ã‚¸å…±é€šåŒ–ã‚‚æ¤œè¨ï¼‰

---

## 7. æ³¨æ„äº‹é …

- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä¸è¦** â€” å…¨ã¦ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ + ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³èª­ã¿å–ã‚Š
- **æ—¢å­˜ãƒšãƒ¼ã‚¸ã¯å£Šã•ãªã„** â€” æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ ãŒåŸºæœ¬ã€æ—¢å­˜å¤‰æ›´ã¯æœ€å°é™
- **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼** â€” ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜ã€ã‚³ãƒ¼ãƒ‰èª­ã¿ã‚„ã™ã
- **MetaMaskæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚** ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¡¨ç¤ºã‚’å¿…ãšå®Ÿè£…
- **æ—§CA (0x72A02d...)** ã¯ä½¿ç”¨ã—ãªã„
